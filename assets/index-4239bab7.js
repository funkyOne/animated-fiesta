const ze="modulepreload",Ve=function(e,t){return new URL(e,t).href},ie={},Ke=function(t,n,o){if(!n||n.length===0||typeof window>"u")return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(_=>{if(_=Ve(_,o),_ in ie)return;ie[_]=!0;const s=_.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(!!o)for(let d=r.length-1;d>=0;d--){const i=r[d];if(i.href===_&&(!s||i.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${c}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":ze,s||(l.as="script",l.crossOrigin=""),l.href=_,document.head.appendChild(l),s)return new Promise((d,i)=>{l.addEventListener("load",d),l.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${_}`)))})})).then(()=>t()).catch(_=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=_,window.dispatchEvent(s),!s.defaultPrevented)throw _})};var U,f,be,C,se,xe,J,Ee,M={},Se=[],je=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ne=Array.isArray;function E(e,t){for(var n in t)e[n]=t[n];return e}function Pe(e){var t=e.parentNode;t&&t.removeChild(e)}function $e(e,t,n){var o,r,_,s={};for(_ in t)_=="key"?o=t[_]:_=="ref"?r=t[_]:s[_]=t[_];if(arguments.length>2&&(s.children=arguments.length>3?U.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(_ in e.defaultProps)s[_]===void 0&&(s[_]=e.defaultProps[_]);return D(e,s,o,r,null)}function D(e,t,n,o,r){var _={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++be,__i:-1,__u:0};return r==null&&f.vnode!=null&&f.vnode(_),_}function W(e){return e.children}function O(e,t){this.props=e,this.context=t}function A(e,t){if(t==null)return e.__?A(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?A(e):null}function Ce(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ce(e)}}function Q(e){(!e.__d&&(e.__d=!0)&&C.push(e)&&!z.__r++||se!==f.debounceRendering)&&((se=f.debounceRendering)||xe)(z)}function z(){var e,t,n,o,r,_,s,c,a;for(C.sort(J);e=C.shift();)e.__d&&(t=C.length,o=void 0,_=(r=(n=e).__v).__e,c=[],a=[],(s=n.__P)&&((o=E({},r)).__v=r.__v+1,f.vnode&&f.vnode(o),oe(s,o,r,n.__n,s.ownerSVGElement!==void 0,32&r.__u?[_]:null,c,_??A(r),!!(32&r.__u),a),o.__.__k[o.__i]=o,Ne(c,o,a),o.__e!=_&&Ce(o)),C.length>t&&C.sort(J));z.__r=0}function Le(e,t,n,o,r,_,s,c,a,l,d){var i,m,u,y,g,v=o&&o.__k||Se,p=t.length;for(n.__d=a,Ge(n,t,v),a=n.__d,i=0;i<p;i++)(u=n.__k[i])!=null&&typeof u!="boolean"&&typeof u!="function"&&(m=u.__i===-1?M:v[u.__i]||M,u.__i=i,oe(e,u,m,r,_,s,c,a,l,d),y=u.__e,u.ref&&m.ref!=u.ref&&(m.ref&&re(m.ref,null,u),d.push(u.ref,u.__c||y,u)),g==null&&y!=null&&(g=y),65536&u.__u||m.__k===u.__k?a=He(u,a,e):typeof u.type=="function"&&u.__d!==void 0?a=u.__d:y&&(a=y.nextSibling),u.__d=void 0,u.__u&=-196609);n.__d=a,n.__e=g}function Ge(e,t,n){var o,r,_,s,c,a=t.length,l=n.length,d=l,i=0;for(e.__k=[],o=0;o<a;o++)(r=e.__k[o]=(r=t[o])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?D(null,r,null,null,r):ne(r)?D(W,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?D(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,c=Ye(r,n,s=o+i,d),r.__i=c,_=null,c!==-1&&(d--,(_=n[c])&&(_.__u|=131072)),_==null||_.__v===null?(c==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):c!==s&&(c===s+1?i++:c>s?d>a-s?i+=c-s:i--:i=c<s&&c==s-1?c-s:0,c!==o+i&&(r.__u|=65536))):(_=n[o])&&_.key==null&&_.__e&&(_.__e==e.__d&&(e.__d=A(_)),Z(_,_,!1),n[o]=null,d--);if(d)for(o=0;o<l;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==e.__d&&(e.__d=A(_)),Z(_,_))}function He(e,t,n){var o,r;if(typeof e.type=="function"){for(o=e.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=e,t=He(o[r],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Ye(e,t,n,o){var r=e.key,_=e.type,s=n-1,c=n+1,a=t[n];if(a===null||a&&r==a.key&&_===a.type)return n;if(o>(a!=null&&!(131072&a.__u)?1:0))for(;s>=0||c<t.length;){if(s>=0){if((a=t[s])&&!(131072&a.__u)&&r==a.key&&_===a.type)return s;s--}if(c<t.length){if((a=t[c])&&!(131072&a.__u)&&r==a.key&&_===a.type)return c;c++}}return-1}function ce(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||je.test(t)?n:n+"px"}function F(e,t,n,o,r){var _;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||ce(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||ce(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")_=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+_]=n,n?o?n.u=o.u:(n.u=Date.now(),e.addEventListener(t,_?ae:le,_)):e.removeEventListener(t,_?ae:le,_);else{if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function le(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(f.event?f.event(e):e)}function ae(e){return this.l[e.type+!0](f.event?f.event(e):e)}function oe(e,t,n,o,r,_,s,c,a,l){var d,i,m,u,y,g,v,p,w,x,L,S,H,$,Y,b=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(a=!!(32&n.__u),_=[c=t.__e=n.__e]),(d=f.__b)&&d(t);e:if(typeof b=="function")try{if(p=t.props,w=(d=b.contextType)&&o[d.__c],x=d?w?w.props.value:d.__:o,n.__c?v=(i=t.__c=n.__c).__=i.__E:("prototype"in b&&b.prototype.render?t.__c=i=new b(p,x):(t.__c=i=new O(p,x),i.constructor=b,i.render=Je),w&&w.sub(i),i.props=p,i.state||(i.state={}),i.context=x,i.__n=o,m=i.__d=!0,i.__h=[],i._sb=[]),i.__s==null&&(i.__s=i.state),b.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,b.getDerivedStateFromProps(p,i.__s))),u=i.props,y=i.state,i.__v=t,m)b.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(b.getDerivedStateFromProps==null&&p!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(p,x),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(p,i.__s,x)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(i.props=p,i.state=i.__s,i.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(B){B&&(B.__=t)}),L=0;L<i._sb.length;L++)i.__h.push(i._sb[L]);i._sb=[],i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(p,i.__s,x),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,y,g)})}if(i.context=x,i.props=p,i.__P=e,i.__e=!1,S=f.__r,H=0,"prototype"in b&&b.prototype.render){for(i.state=i.__s,i.__d=!1,S&&S(t),d=i.render(i.props,i.state,i.context),$=0;$<i._sb.length;$++)i.__h.push(i._sb[$]);i._sb=[]}else do i.__d=!1,S&&S(t),d=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++H<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),m||i.getSnapshotBeforeUpdate==null||(g=i.getSnapshotBeforeUpdate(u,y)),Le(e,ne(Y=d!=null&&d.type===W&&d.key==null?d.props.children:d)?Y:[Y],t,n,o,r,_,s,c,a,l),i.base=t.__e,t.__u&=-161,i.__h.length&&s.push(i),v&&(i.__E=i.__=null)}catch(B){t.__v=null,a||_!=null?(t.__e=c,t.__u|=a?160:32,_[_.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),f.__e(B,t,n)}else _==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Xe(n.__e,t,n,o,r,_,s,a,l);(d=f.diffed)&&d(t)}function Ne(e,t,n){t.__d=void 0;for(var o=0;o<n.length;o++)re(n[o],n[++o],n[++o]);f.__c&&f.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(_){_.call(r)})}catch(_){f.__e(_,r.__v)}})}function Xe(e,t,n,o,r,_,s,c,a){var l,d,i,m,u,y,g,v=n.props,p=t.props,w=t.type;if(w==="svg"&&(r=!0),_!=null){for(l=0;l<_.length;l++)if((u=_[l])&&"setAttribute"in u==!!w&&(w?u.localName===w:u.nodeType===3)){e=u,_[l]=null;break}}if(e==null){if(w===null)return document.createTextNode(p);e=r?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,p.is&&p),_=null,c=!1}if(w===null)v===p||c&&e.data===p||(e.data=p);else{if(_=_&&U.call(e.childNodes),v=n.props||M,!c&&_!=null)for(v={},l=0;l<e.attributes.length;l++)v[(u=e.attributes[l]).name]=u.value;for(l in v)u=v[l],l=="children"||(l=="dangerouslySetInnerHTML"?i=u:l==="key"||l in p||F(e,l,null,u,r));for(l in p)u=p[l],l=="children"?m=u:l=="dangerouslySetInnerHTML"?d=u:l=="value"?y=u:l=="checked"?g=u:l==="key"||c&&typeof u!="function"||v[l]===u||F(e,l,u,v[l],r);if(d)c||i&&(d.__html===i.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(i&&(e.innerHTML=""),Le(e,ne(m)?m:[m],t,n,o,r&&w!=="foreignObject",_,s,_?_[0]:n.__k&&A(n,0),c,a),_!=null)for(l=_.length;l--;)_[l]!=null&&Pe(_[l]);c||(l="value",y!==void 0&&(y!==e[l]||w==="progress"&&!y||w==="option"&&y!==v[l])&&F(e,l,y,v[l],!1),l="checked",g!==void 0&&g!==e[l]&&F(e,l,g,v[l],!1))}return e}function re(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){f.__e(o,n)}}function Z(e,t,n){var o,r;if(f.unmount&&f.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||re(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){f.__e(_,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&Z(o[r],t,n||typeof e.type!="function");n||e.__e==null||Pe(e.__e),e.__=e.__e=e.__d=void 0}function Je(e,t,n){return this.constructor(e,n)}function Te(e,t,n){var o,r,_,s;f.__&&f.__(e,t),r=(o=typeof n=="function")?null:n&&n.__k||t.__k,_=[],s=[],oe(t,e=(!o&&n||t).__k=$e(W,null,[e]),r||M,M,t.ownerSVGElement!==void 0,!o&&n?[n]:r?null:t.firstChild?U.call(t.childNodes):null,_,!o&&n?n:r?r.__e:t.firstChild,o,s),Ne(_,e,s)}function We(e,t){Te(e,t,We)}function gt(e,t,n){var o,r,_,s,c=E({},e.props);for(_ in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)_=="key"?o=t[_]:_=="ref"?r=t[_]:c[_]=t[_]===void 0&&s!==void 0?s[_]:t[_];return arguments.length>2&&(c.children=arguments.length>3?U.call(arguments,2):n),D(e.type,c,o||e.key,r||e.ref,null)}function Ae(e,t){var n={__c:t="__cC"+Ee++,__:e,Consumer:function(o,r){return o.children(r)},Provider:function(o){var r,_;return this.getChildContext||(r=[],(_={})[t]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(function(c){c.__e=!0,Q(c)})},this.sub=function(s){r.push(s);var c=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),c&&c.call(s)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}U=Se.slice,f={__e:function(e,t,n,o){for(var r,_,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(e)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,o||{}),s=r.__d),s)return r.__E=r}catch(c){e=c}throw e}},be=0,O.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof e=="function"&&(e=e(E({},n),this.props)),e&&E(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Q(this))},O.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Q(this))},O.prototype.render=W,C=[],xe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,J=function(e,t){return e.__v.__b-t.__v.__b},z.__r=0,Ee=0;var I,k,X,ue,V=0,Ie=[],q=[],fe=f.__b,de=f.__r,pe=f.diffed,he=f.__c,me=f.unmount;function G(e,t){f.__h&&f.__h(k,e,V||t),V=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:q}),n.__[e]}function K(e){return V=1,De(Ue,e)}function De(e,t,n){var o=G(I++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Ue(void 0,t),function(c){var a=o.__N?o.__N[0]:o.__[0],l=o.t(a,c);a!==l&&(o.__N=[l,o.__[1]],o.__c.setState({}))}],o.__c=k,!k.u)){var r=function(c,a,l){if(!o.__c.__H)return!0;var d=o.__c.__H.__.filter(function(m){return m.__c});if(d.every(function(m){return!m.__N}))return!_||_.call(this,c,a,l);var i=!1;return d.forEach(function(m){if(m.__N){var u=m.__[0];m.__=m.__N,m.__N=void 0,u!==m.__[0]&&(i=!0)}}),!(!i&&o.__c.props===c)&&(!_||_.call(this,c,a,l))};k.u=!0;var _=k.shouldComponentUpdate,s=k.componentWillUpdate;k.componentWillUpdate=function(c,a,l){if(this.__e){var d=_;_=void 0,r(c,a,l),_=d}s&&s.call(this,c,a,l)},k.shouldComponentUpdate=r}return o.__N||o.__}function Me(e,t){var n=G(I++,3);!f.__s&&_e(n.__H,t)&&(n.__=e,n.i=t,k.__H.__h.push(n))}function Qe(e,t){var n=G(I++,4);!f.__s&&_e(n.__H,t)&&(n.__=e,n.i=t,k.__h.push(n))}function j(e,t){var n=G(I++,7);return _e(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ve(e,t){return V=8,j(function(){return e},t)}function Ze(){for(var e;e=Ie.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(R),e.__H.__h.forEach(ee),e.__H.__h=[]}catch(t){e.__H.__h=[],f.__e(t,e.__v)}}f.__b=function(e){k=null,fe&&fe(e)},f.__r=function(e){de&&de(e),I=0;var t=(k=e.__c).__H;t&&(X===k?(t.__h=[],k.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=q,n.__N=n.i=void 0})):(t.__h.forEach(R),t.__h.forEach(ee),t.__h=[],I=0)),X=k},f.diffed=function(e){pe&&pe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ie.push(t)!==1&&ue===f.requestAnimationFrame||((ue=f.requestAnimationFrame)||et)(Ze)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==q&&(n.__=n.__V),n.i=void 0,n.__V=q})),X=k=null},f.__c=function(e,t){t.some(function(n){try{n.__h.forEach(R),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){t.some(function(r){r.__h&&(r.__h=[])}),t=[],f.__e(o,n.__v)}}),he&&he(e,t)},f.unmount=function(e){me&&me(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{R(o)}catch(r){t=r}}),n.__H=void 0,t&&f.__e(t,n.__v))};var ye=typeof requestAnimationFrame=="function";function et(e){var t,n=function(){clearTimeout(o),ye&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);ye&&(t=requestAnimationFrame(n))}function R(e){var t=k,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),k=t}function ee(e){var t=k;e.__c=e.__(),k=t}function _e(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function Ue(e,t){return typeof t=="function"?t(e):t}let T;const tt=(e,t)=>{if(T=void 0,t&&t.type==="click"){if(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button!==0)return e;const n=t.target.closest("a[href]");if(!n||n.origin!=location.origin||/^#/.test(n.getAttribute("href"))||!/^(_?self)?$/i.test(n.target))return e;T=!0,t.preventDefault(),t=n.href.replace(location.origin,"")}else typeof t=="string"?T=!0:t=location.pathname+location.search;return T===!0?history.pushState(null,"",t):T===!1&&history.replaceState(null,"",t),t};function Be(e){const[t,n]=De(tt,e.url||location.pathname+location.search),o=T===!0,r=j(()=>{const _=new URL(t,location.origin),s=_.pathname.replace(/(.)\/$/g,"$1");return{url:t,path:s,query:Object.fromEntries(_.searchParams),route:n,wasPush:o}},[t]);return Qe(()=>(addEventListener("click",n),addEventListener("popstate",n),()=>{removeEventListener("click",n),removeEventListener("popstate",n)}),[]),$e(Be.ctx.Provider,{value:r},e.children)}Promise.resolve();Be.ctx=Ae({});Ae({});const ge=f.__e;f.__e=(e,t,n)=>{if(e&&e.then){let o=t;for(;o=o.__;)if(o.__c&&o.__c.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),t.__k||(t.__k=[]),o.__c.__c(e,t)}ge&&ge(e,t,n)};let ke;function nt(e,t){if(typeof window>"u")return;let n=document.querySelector("script[type=isodata]");t=t||n&&n.parentNode||document.body,!ke&&n?We(e,t):Te(e,t),ke=!0}function ot(e,t){return Ke(()=>import("./prerender-b14c8083.js"),[],import.meta.url).then(n=>n.default(e,t))}let P=null;const Fe=e=>{const t=new SpeechSynthesisUtterance(e);if(!P){P=window.speechSynthesis.getVoices().filter(r=>r.lang.startsWith("en"));const o=P.filter(r=>r.name.toLowerCase().includes("female"));if(o.length>0)P=o;else{const r=P.filter(_=>_.name.toLowerCase().includes("male"));r.length>0&&(P=r)}}P.length>0&&(t.voice=P[0]),t.lang="en-GB",window.speechSynthesis.cancel(),window.speechSynthesis.speak(t)},we=["Good job!","Nice one, pal!","Well done, buddy!","You are the best","All done!","You've made it","Keep up the good work!","You're doing great!","Fantastic work!","Keep it up!"];function rt(){const e=we[Math.floor(Math.random()*we.length)];Fe(e)}function _t(e,t){return{play:function(){let n=t.createBufferSource();n.buffer=e,n.connect(t.destination),n.start(0)}}}async function it(e,t){const o=await(await fetch(e)).arrayBuffer(),r=await t.decodeAudioData(o);return _t(r,t)}async function st(e){let t=new(window.AudioContext||window.webkitAudioContext);return ct(t),await Promise.all(e.map(o=>it(o,t)))}function ct(e){console.log("unlocking");var t=e.createBuffer(1,1,22050),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),n.start?n.start(0):n.noteOn(0)}var lt=0;function h(e,t,n,o,r,_){var s,c,a={};for(c in t)c=="ref"?s=t[c]:a[c]=t[c];var l={type:e,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--lt,__i:-1,__u:0,__source:r,__self:_};if(typeof e=="function"&&(s=e.defaultProps))for(c in s)a[c]===void 0&&(a[c]=s[c]);return f.vnode&&f.vnode(l),l}function at({elapsed:e,totalDuration:t}){const[n,o]=K(0),r=95,_=2*Math.PI*r;Me(()=>{const c=1-e/t;o(_*c)},[e,t]);const s=t-e;return h("div",{className:"timer-circle",children:[h("svg",{viewBox:"0 0 220 220",width:"220",height:"220",children:[h("circle",{cx:"110",cy:"110",r,fill:"none",stroke:"var(--tertiary-color)",strokeWidth:"20"}),h("circle",{cx:"110",cy:"110",r,fill:"none",stroke:"var(--primary-color)",strokeWidth:"20",strokeDasharray:_,strokeDashoffset:n,transform:"rotate(-90 110 110)"})]}),h("div",{className:"timer-text",children:[h("span",{className:"seconds",children:s}),h("span",{className:"label",children:"seconds"})]})]})}function ut({segments:e,currentIndex:t}){return h("div",{className:"segment-indicators",children:e.map((n,o)=>h("div",{className:`segment-indicator ${o===t?"active":""} segment-indicator--${n.type}`},o))})}function ft({exercise:e,timeline:t,currentSegmentIndex:n,elapsed:o,totalDuration:r}){return h("div",{className:"exercise-view",children:[h("h2",{className:"exercise-name",children:e.name}),h(at,{elapsed:o,totalDuration:r}),h(ut,{segments:t,currentIndex:n})]})}function dt({onStop:e,onNext:t}){return h("div",{className:"control-buttons",children:[h("button",{className:"stop-button",onClick:e,children:"STOP"}),h("button",{className:"next-button",onClick:t,children:"NEXT"})]})}function pt({progress:e}){return h("div",{className:"progress-bar",children:h("div",{className:"progress-bar-inner",style:{width:`${e*100}%`}})})}const ht=({exercise:e,handleStop:t,handleStart:n,handleNext:o,progress:r})=>h("div",{className:"app",children:e?h(W,{children:[h(ft,{...e}),h(dt,{onStop:t,onNext:o}),h(pt,{progress:r})]}):h(W,{children:[h("header",{className:"app-header",children:h("h1",{children:"Eye exercises"})}),h("button",{className:"start-button",onClick:n,children:"START"})]})});function mt(){const[e,t]=K(null),n=ve(async()=>{if(!(typeof window>"u"))try{if("wakeLock"in navigator){const r=await navigator.wakeLock.request("screen");t(r),console.log("Wake Lock is active!")}else if("mozWakeLock"in navigator){const r=navigator.mozWakeLock.request("screen");t(r),console.log("Firefox Wake Lock is active!")}else console.log("Wake Lock API not supported in this browser.")}catch(r){console.log(`Wake Lock error: ${r.name}, ${r.message}`)}},[]),o=ve(()=>{e&&("release"in e?e.release():"unlock"in e&&e.unlock(),t(null),console.log("Wake Lock released."))},[e]);return Me(()=>()=>{o()},[o]),{requestWakeLock:n,releaseWakeLock:o}}let Oe,qe,te=!1;async function vt(){if(typeof window>"u"||te)return;const[e,t]=await st(["./sounds/220174__gameaudio__spacey-loose.wav","./sounds/220202__gameaudio__teleport-casual.wav"]);Oe=e,qe=t,te=!0}const N={name:"Eye exercises",exercises:[{name:"Blink often",duration:60,repetitions:1},{name:"Blink slowly",duration:3,rest:3,repetitions:10},{name:"Head Movement clockwise",duration:15,repetitions:1},{name:"Head Movement counterclockwise",duration:15,repetitions:1},{name:"Head Movement side to side",duration:15,repetitions:1},{name:"Head Movement up and down",duration:15,repetitions:1},{name:"Eye Movement - left and right",duration:30,repetitions:1},{name:"Eye Movement - up and down",duration:30,repetitions:1},{name:"Eye Movement - 8",duration:30,repetitions:1},{name:"Eye Movement - random direction",duration:30,repetitions:1},{name:"Squeezing Eyes Shut",duration:3,rest:3,repetitions:10},{name:"Eyes Shut Movements",duration:60,repetitions:1},{name:"Change Focus",duration:10,rest:10,repetitions:5},{name:"Temple Massage",duration:10,rest:5,repetitions:4},{name:"Eyes Palming",duration:60,repetitions:1}]},yt=e=>{let t=[],n=0;for(let o=0;o<e.repetitions;o++)t.push({type:"w",startOffset:n,endOffset:n+e.duration*1e3,duration:e.duration}),n+=e.duration*1e3,e.rest&&(t.push({type:"r",startOffset:n,endOffset:n+e.rest*1e3,duration:e.rest}),n+=e.rest*1e3);return t},Re=()=>{const[e,t]=K(null),[n,o]=K(null),{requestWakeLock:r,releaseWakeLock:_}=mt();function s(y){const g=N.exercises[y],v=yt(g),p={index:y,segmentIndex:0,timeline:v,startedAt:Date.now(),secondsElapsedInSegment:0};return Fe(g.name),c(),console.log(p),p}const c=()=>{if(n)return;const y=window.setInterval(()=>{t(g=>{if(!g)return null;const{timeline:v,segmentIndex:p,index:w,startedAt:x}=g,L=v[p],S=Math.floor((Date.now()-x)/1e3);if(Date.now()<x+L.endOffset)return console.log("No change in segment or exercise"),{...g,secondsElapsedInSegment:S};let H=p+1;if(H<v.length)return te&&v[H].type==="r"?Oe.play():qe.play(),console.log("Next segment"),{...g,segmentIndex:H,secondsElapsedInSegment:S};{console.log("Next exercise");let $=w+1;return $<N.exercises.length?s($):(a(),rt(),null)}})},1e3);o(y)},a=()=>{n&&(clearInterval(n),o(null))},l=()=>{vt(),t(s(0)),r()},d=()=>{a(),t(null),_()},i=()=>{e&&e.index<N.exercises.length-1&&t(s(e.index+1))},m=j(()=>{if(e==null)return null;const y=N.exercises[e.index],g=e.timeline.reduce((v,p)=>v+p.duration,0);return{exercise:y,timeline:e.timeline,currentSegmentIndex:e.segmentIndex,elapsed:e.secondsElapsedInSegment,totalDuration:g}},[e]),u=j(()=>{if(e==null)return 0;const y=N.exercises.length,g=e.index,v=e.secondsElapsedInSegment/e.timeline.reduce((p,w)=>p+w.duration,0);return(g+v)/y},[e,N.exercises.length]);return h(ht,{exercise:m,handleStop:d,handleStart:l,handleNext:i,progress:u})};typeof window<"u"&&nt(h(Re,{}),document.getElementById("app"));async function kt(e){return await ot(h(Re,{...e}))}export{gt as E,W as g,f as l,kt as prerender,$e as y};
